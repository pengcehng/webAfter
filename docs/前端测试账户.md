# 前端测试账号验证说明

## 概述

测试账号现在支持前端验证，无需后端服务器运行即可登录系统进行功能测试。

## 测试账号信息

### 主要测试账号
- **邮箱**: `test@test.com`
- **用户名**: `测试用户`
- **密码**: `test123`
- **角色**: `测试员`
- **权限**: `monitoring:view`（监控查看）

## 使用方法

### 方法一：一键登录
1. 在登录页面点击 "🧪 测试账号登录" 按钮
2. 系统自动使用测试账号信息登录

### 方法二：手动输入
1. 在登录表单的邮箱字段输入：`test@test.com` 或 `测试用户`
2. 在密码字段输入：`test123`
3. 点击登录按钮

## 技术实现

### 前端验证逻辑
- 登录时检查输入的邮箱/用户名和密码是否匹配测试账号
- 如果匹配，跳过后端API调用，直接在前端生成测试token
- 生成的token包含用户信息和权限数据

### 存储信息
登录成功后，以下信息会保存到localStorage：
- `token`: 前端生成的测试JWT token
- `user`: 测试用户信息JSON
- `isTestAccount`: 标记为测试账号（值为'true'）

### API请求处理
- 测试账号的API请求会添加 `X-Test-Account: true` 头部
- 不会发送Authorization头部到后端
- 401错误不会自动跳转到登录页

## 注意事项

1. **仅用于开发测试**: 此功能仅用于前端开发和测试，生产环境应禁用
2. **无后端验证**: 测试账号完全在前端验证，不依赖后端服务
3. **权限限制**: 测试账号只有监控查看权限，无法执行需要后端API的操作
4. **Token有效期**: 前端生成的token有效期为24小时

## 开发者说明

### 相关文件
- `src/components/js/LoginPage.js`: 登录逻辑和测试账号验证
- `src/components/API/apiService.js`: API请求拦截器
- `src/views/LoginPage/LoginPage.vue`: 登录页面模板

### 扩展测试账号
如需添加更多测试账号，修改 `LoginPage.js` 中的 `isTestAccount` 方法：

```javascript
isTestAccount (email, password) {
  const testAccounts = [
    { email: 'test@test.com', password: 'test123', username: '测试用户' },
    { email: '测试用户', password: 'test123', username: '测试用户' },
    // 添加新的测试账号
    { email: 'admin@test.com', password: 'admin123', username: '测试管理员' }
  ]
  
  return testAccounts.some(account => 
    (account.email === email || account.username === email) && 
    account.password === password
  )
}
```